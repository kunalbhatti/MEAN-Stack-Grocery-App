<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
    <title>Rassword Recovery</title>
    <style type="text/css" media="screen">
        body {
            margin: 0px;
            padding: 0px;
            background-color: #121212;
            height: 100vh;
        }
    </style>

    <script>
        function validateForm() {
            var newPassword = document.forms["resetForm"]["newPassword"].value.trim();
            var confirmPassword = document.forms["resetForm"]["confirmPassword"].value.trim();

            if (newPassword.length < 6 || confirmPassword.length < 6) {
                alert('Password can only by 6-12 characters long');
                return false;
            }

            if (newPassword !== confirmPassword) {
                alert("Passwords do not match");
                return false;
            }

        }
    </script>
</head>

<body>
    <ion-header>
        <ion-toolbar color="ion-dark" style="color:white;">
            <ion-title>Password Recovery</ion-title>
        </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding" color="dark">
        <ion-grid style="height: 100%;">
            <ion-row class="ion-justify-content-center" style="height: 100%; align-content: center;">
                <ion-col size="12" size-sm="10" size-md="8" size-lg="6" size-xl="4" class="ion-no-padding">
                    <ion-toolbar>
                        <ion-title class="ion-text-center ion-padding" style="border-bottom: 1px solid;">Set New
                            Password</ion-title>
                    </ion-toolbar>
                    <form name="resetForm" onsubmit="return validateForm()" method="POST"
                        action="http://localhost:3000/auth/reset-password/<%=token%>">
                        <ion-item>
                            <ion-label position="floating">New Password</ion-label>
                            <ion-input type="password" name="newPassword" minlength="6" maxlength="12" required>
                            </ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Password</ion-label>
                            <ion-input type="password" name="confirmPassword" minlength="6" maxlength="12" required>
                            </ion-input>
                        </ion-item>
                        </ion-input>
                        <ion-button type="submit" expand="full" class="ion-no-margin">Reset Password</ion-button>
                    </form>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-content>

</body>

</html>