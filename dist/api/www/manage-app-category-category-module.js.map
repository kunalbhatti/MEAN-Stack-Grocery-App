{"version":3,"sources":["./src/app/main/settings/manage-app/category/category-routing.module.ts","./src/app/main/settings/manage-app/category/category.module.ts","./src/app/main/settings/manage-app/category/category.page.scss","./src/app/main/settings/manage-app/category/category.page.html","./src/app/main/settings/manage-app/category/category.page.ts"],"names":[],"mappings":"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","file":"manage-app-category-category-module.js","sourcesContent":["import {\n  NgModule\n} from '@angular/core';\nimport {\n  RouterModule,\n  Routes\n} from '@angular/router';\nimport {\n  CategoryPage\n} from './category.page';\n\nconst routes: Routes = [{\n  path: '',\n  component: CategoryPage\n}]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CategoryRoutingModule {\n\n}\n","import {\n  CommonModule\n} from '@angular/common';\nimport {\n  NgModule\n} from '@angular/core';\nimport {\n  FormsModule\n} from '@angular/forms';\nimport {\n  IonicModule\n} from '@ionic/angular';\nimport {\n  CategoryRoutingModule\n} from './category-routing.module';\nimport {\n  CategoryPage\n} from './category.page';\n\n@NgModule({\n  declarations: [CategoryPage],\n  imports: [CommonModule, FormsModule, IonicModule, CategoryRoutingModule],\n})\nexport class CategoryModule {\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXRlZ29yeS5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{category | titlecase}}</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button [defaultHref]=\\\"['/', 'app', 'settings', 'manage-app']\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-col size=\\\"12\\\" size-sm=\\\"10\\\" size-md=\\\"8\\\" class=\\\"ion-text-center\\\">\\n\\n        <ion-toolbar size=\\\"12\\\" class=\\\"ion-text-center ion-margin-top\\\" style=\\\"background-color: #1f1f1f;\\\">\\n          <ion-title>Products</ion-title>\\n          <ion-buttons slot=\\\"primary\\\">\\n            <ion-button (click)=\\\"presentProductModal()\\\">\\n              <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n        </ion-toolbar>\\n\\n        <ion-list *ngIf=\\\"productError === '' && products?.length > 0\\\" style=\\\"background-color: rgb(40, 41, 44);\\\">\\n          <ion-card *ngFor=\\\"let product of products\\\">\\n            <ion-card-header>\\n              <ion-card-title>\\n                {{product?.name | titlecase}}\\n              </ion-card-title>\\n              <ion-card-subtitle>\\n                {{product?.brand | titlecase}}\\n              </ion-card-subtitle>\\n            </ion-card-header>\\n            <ion-card-content>\\n              <ion-item *ngIf=\\\"product?.size\\\">Size: {{product?.size | titlecase}}</ion-item>\\n              <ion-item *ngIf=\\\"product?.quantity\\\">Quantity: {{product?.quantity}}</ion-item>\\n              <ion-item *ngIf=\\\"product?.price\\\">Price: {{product?.price}}</ion-item>\\n            </ion-card-content>\\n            <ion-row class=\\\"ion-justify-content-center\\\">\\n              <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" (click)=\\\"presentProductActionSheet(product)\\\">\\n                <ion-icon name=\\\"ellipsis-horizontal\\\"></ion-icon>\\n              </ion-button>\\n            </ion-row>\\n          </ion-card>\\n        </ion-list>\\n        <ion-list style=\\\"background-color: rgb(40, 41, 44);\\\" class=\\\"ion-padding\\\">\\n          <ion-text *ngIf=\\\"productError === '' && products?.length === 0\\\">No Items Found</ion-text>\\n          <ion-text *ngIf=\\\"productError !== ''\\\">{{productError}}</ion-text>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n\\n  </ion-grid>\\n</ion-content>\\n\";","import {\n  Component,\n  Input,\n  OnInit\n} from '@angular/core';\n\nimport {\n  ActionSheetController,\n  ModalController,\n  PopoverController\n} from '@ionic/angular';\n\nimport {\n  ActivatedRoute,\n  ParamMap\n} from '@angular/router';\n\n// components\nimport {\n  CreateProductComponent\n} from './../modals/create-product/create-product.component';\nimport {\n  ConfirmDeleteComponent\n} from './../modals/confirm-delete/confirm-delete.component';\n\n// services\nimport {\n  ToasterService\n} from '../../../../services/toaster.service';\nimport {\n  SettingsService\n} from '../../../../services/settings.service';\n\n// models\nimport {\n  ProductModel\n} from '../../../../models/product.model';\n\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.page.html',\n  styleUrls: ['./category.page.scss'],\n})\n\nexport class CategoryPage implements OnInit {\n\n  category: string;\n  cid: string;\n\n  addProductForm: boolean;\n\n  products: ProductModel[];\n\n  productError: string;\n\n  constructor(private modalController: ModalController,\n    private actionSheetController: ActionSheetController,\n    private popoverController: PopoverController,\n    private toasterService: ToasterService,\n    private settingsService: SettingsService,\n    private route: ActivatedRoute) {}\n\n  ngOnInit() {\n    this.addProductForm = false;\n    this.productError = '';\n\n\n    this.route.paramMap.subscribe(\n      (params: ParamMap) => {\n        this.category = params.get('category')\n        this.cid = params.get('cid');\n        this.settingsService.getProducts(this.cid).subscribe(\n          (productsData: [\n            products: ProductModel\n          ]) => {\n            if (productsData) {\n              this.products = productsData;\n            } else {\n              this.products = [];\n            }\n          }, (error: string) => {\n            this.productError = error;\n          }\n        );\n      }\n    );\n\n  }\n\n  onDismiss(): void {\n    this.modalController.dismiss(null, 'cancel');\n  }\n\n  presentProductActionSheet(product: ProductModel): void {\n    this.actionSheetController.create({\n      header: 'Options',\n      buttons: [{\n        text: 'Close',\n        icon: 'close-outline',\n        role: 'destructive'\n      }, {\n        text: 'Edit',\n        icon: 'create-outline',\n        handler: () => {\n          this.presentProductModal(product);\n        }\n      }, {\n        text: 'Delete',\n        icon: 'trash-outline',\n        handler: () => {\n          this.popoverController.create({\n            component: ConfirmDeleteComponent,\n            componentProps: {\n              type: 'Product',\n              message: 'Are data related to this product will be deleted. Proceed?'\n            }\n          }).then((popoverEl: HTMLIonPopoverElement) => {\n            popoverEl.present();\n            return popoverEl.onDidDismiss();\n          }).then(\n            popoverResult => {\n              if (popoverResult.role === 'delete') {\n                this.settingsService.deleteProduct(product._id).subscribe(\n                  () => {\n                    this.toasterService.presentToast('Success!!', 'Product was deleted successfully', 500);\n                    this.products = this.products.filter(\n                      prod => {\n                        if (prod._id !== product._id) {\n                          return true;\n                        }\n                      }\n                    );\n                  }, error => {\n                    this.productError = error;\n                  }\n                );\n              }\n            }\n          )\n        }\n      }]\n    }).then((actionEl: HTMLIonActionSheetElement) => {\n      actionEl.present();\n    });\n  }\n\n  presentProductModal(product ? : ProductModel): void {\n    this.modalController.create({\n      component: CreateProductComponent,\n      componentProps: {\n        product,\n        cid: this.cid\n      }\n    }).then(\n      (modalEl: HTMLIonModalElement) => {\n        modalEl.present();\n        return modalEl.onDidDismiss();\n      }\n    ).then(modalResult => {\n\n      if (modalResult.role === 'create') {\n        this.toasterService.presentToast('Success!!', 'Product was added successfully', 500);\n        this.products.push(modalResult.data);\n      }\n\n      if (modalResult.role === 'edit') {\n        this.toasterService.presentToast('Success!!', 'Product was editted successfully', 500);\n        const index: number = this.products.findIndex((prod: ProductModel) => {\n          if (prod._id === product._id) {\n            return true;\n          }\n        });\n        this.products[index] = modalResult.data;\n      }\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}